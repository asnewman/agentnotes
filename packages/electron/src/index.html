<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline'; style-src 'self' 'unsafe-inline';">
  <title>AgentNotes</title>
  <link rel="stylesheet" href="styles/main.css">
  <link rel="stylesheet" href="styles/components.css">
</head>
<body>
  <div class="title-bar" id="titleBar">
    <div class="title-bar-controls">
      <svg class="title-bar-btn" id="btnClose" width="12" height="12" viewBox="0 0 12 12">
        <circle cx="6" cy="6" r="6" fill="#ff5f57" class="btn-bg"/>
        <path class="btn-icon" d="M4 4L8 8M8 4L4 8" stroke="rgba(0,0,0,0.5)" stroke-width="1.2" stroke-linecap="round"/>
      </svg>
      <svg class="title-bar-btn" id="btnMinimize" width="12" height="12" viewBox="0 0 12 12">
        <circle cx="6" cy="6" r="6" fill="#ffbd2e" class="btn-bg"/>
        <path class="btn-icon" d="M4 6H8" stroke="rgba(0,0,0,0.5)" stroke-width="1.2" stroke-linecap="round"/>
      </svg>
      <svg class="title-bar-btn" id="btnMaximize" width="12" height="12" viewBox="0 0 12 12">
        <circle cx="6" cy="6" r="6" fill="#28c940" class="btn-bg"/>
        <rect class="btn-icon" x="4" y="4" width="4" height="4" stroke="rgba(0,0,0,0.5)" stroke-width="1" fill="none" rx="0.5"/>
      </svg>
    </div>
    <div class="title-bar-title">AgentNotes</div>
    <div class="title-bar-directory hidden" id="titleBarDirectory">
      <div class="title-bar-panel-controls">
        <button
          type="button"
          class="panel-toggle-btn"
          id="toggleNoteListBtn"
          aria-label="Hide notes list"
          aria-expanded="true"
          title="Hide notes list"
        >
          <svg class="panel-toggle-icon panel-toggle-icon-left" viewBox="0 0 16 16" aria-hidden="true">
            <rect class="panel-outline" x="1.5" y="2.5" width="13" height="11" rx="2"></rect>
            <line class="panel-divider" x1="6.6" y1="2.8" x2="6.6" y2="13.2"></line>
            <rect class="panel-side-fill" x="2.4" y="3.4" width="3.3" height="9.2" rx="1"></rect>
          </svg>
        </button>
        <button
          type="button"
          class="panel-toggle-btn"
          id="toggleCommentsBtn"
          aria-label="Hide comments panel"
          aria-expanded="true"
          title="Hide comments panel"
        >
          <svg class="panel-toggle-icon panel-toggle-icon-right" viewBox="0 0 16 16" aria-hidden="true">
            <rect class="panel-outline" x="1.5" y="2.5" width="13" height="11" rx="2"></rect>
            <line class="panel-divider" x1="9.4" y1="2.8" x2="9.4" y2="13.2"></line>
            <rect class="panel-side-fill" x="10.3" y="3.4" width="3.3" height="9.2" rx="1"></rect>
          </svg>
        </button>
      </div>
      <span class="directory-path" id="directoryPath"></span>
      <button class="change-directory-btn" id="changeDirectoryBtn">Change</button>
    </div>
  </div>

  <div class="directory-overlay hidden" id="directoryOverlay">
    <div class="directory-overlay-content">
      <svg class="folder-icon" width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
        <path d="M22 19a2 2 0 01-2 2H4a2 2 0 01-2-2V5a2 2 0 012-2h5l2 3h9a2 2 0 012 2z"/>
      </svg>
      <h2>Select Notes Directory</h2>
      <p>Choose a folder containing your markdown notes to get started.</p>
      <button class="select-directory-btn" id="selectDirectoryBtn">Select Folder</button>
    </div>
  </div>

  <div class="app">
    <div class="app-panels">
      <aside class="note-list-panel" id="noteListPanel">
        <div class="panel-header">
          <h2>Notes</h2>
        </div>
        <div class="note-list" id="noteList">
          <!-- Notes will be rendered here -->
        </div>
      </aside>

      <main class="note-view-panel" id="noteViewPanel">
        <div class="note-content" id="noteContent">
          <p class="empty-state">Select a note from the list to view its content.</p>
        </div>
      </main>

      <aside class="comments-panel" id="commentsPanel">
        <div class="comments-note-tools" id="noteSidebarMeta">
          <div class="note-tags"></div>
          <div class="note-actions"></div>
        </div>
        <div class="panel-header">
          <h2>Comments</h2>
        </div>
        <div class="comments-list" id="commentsList">
          <p class="empty-state">No comments</p>
        </div>
      </aside>
    </div>
  </div>

  <script src="bundle.js"></script>
</body>
</html>
